<div class="receipt-container">
  <div class="print-actions">
    <button mat-icon-button (click)="printReceipt()" matTooltip="Print Receipt">
      <mat-icon>print</mat-icon>
    </button>
    <button mat-icon-button (click)="closeDialog()" matTooltip="Close">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="receipt-content" *ngFor="let receipt of receipts">
    <!-- School Header -->
    <div class="school-header">
      <h1>{{ receipt.header.schoolName }}</h1>
      <p>{{ receipt.header.schoolAddress }}</p>
      <div class="contact-info">
        <span>{{ receipt.header.schoolContact }}</span> |
        <span>{{ receipt.header.schoolEmail }}</span>
      </div>
      <div class="receipt-title">
        <h2>Payment Receipt</h2>
      </div>
    </div>

    <!-- Receipt Details -->
    <div class="receipt-details">
      <div class="detail-row">
        <div class="detail-item">
          <label>Receipt No:</label>
          <span>{{ receipt.paymentDetails.receiptId }}</span>
        </div>
        <div class="detail-item">
          <label>Date:</label>
          <span>{{ formatDate(receipt.paymentDetails.dateCreated) }}</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-item">
          <label>Student Name:</label>
          <span>{{ receipt.paymentDetails.fullname }}</span>
        </div>
        <div class="detail-item">
          <label>Roll No:</label>
          <span>{{ receipt.paymentDetails.rollNo }}</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-item">
          <label>Class:</label>
          <span>{{ receipt.paymentDetails.className }} - {{ receipt.paymentDetails.sectionName }}</span>
        </div>
        <div class="detail-item">
          <label>Month:</label>
          <span>{{ receipt.paymentDetails.monthName }}</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-item">
          <label>Payment Type:</label>
          <span>{{ receipt.paymentDetails.paymentType }}</span>
        </div>
        <div class="detail-item">
          <label>Status:</label>
          <span>{{ receipt.paymentDetails.paymentState }}</span>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-item">
          <label>Guardian:</label>
          <span>{{ receipt.paymentDetails.responsibleName }}</span>
        </div>
      </div>
    </div>

    <!-- Payment Amount -->
    <div class="amount-section">
      <div class="amount-row">
        <label>Amount Paid:</label>
        <span class="amount">
          {{ formatAmount(receipt.paymentDetails.amount) }}
        </span>
      </div>
      <div class="total-amount">
        <label>Total Amount:</label>
        <span class="amount">
          {{ formatAmount(receipt.paymentDetails.totalAmount) }}
        </span>
      </div>
    </div>

    <!-- Footer -->
    <div class="receipt-footer">
      <p>This is a computer generated receipt. No signature required.</p>
    </div>
  </div>
</div>
